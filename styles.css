
:root {
  --bg:#ffffff; --text:#0f172a; --muted:#475569; --card:#ffffff; --ring:#e5e7eb; --shadow:rgba(2,6,23,.07);
  --radius:18px; --pad:14px;
  --physical:#16a34a; --physical-subtle:#16a34a33;
  --financial:#d97706; --financial-subtle:#d9770633;
  --social:#2563eb; --social-subtle:#2563eb33;
  --intellectual:#7c3aed; --intellectual-subtle:#7c3aed33;
  --emotional:#dc2626; --emotional-subtle:#dc262633;
  --spiritual:#0ea5a3; --spiritual-subtle:#0ea5a333;
}
body.theme-dark { --bg:#0b1220; --text:#e5e7eb; --muted:#cbd5e1; --card:#0f172a; --ring:#1e293b; --shadow:rgba(0,0,0,.25); }
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text)}
.app-header{position:sticky;top:0;z-index:10;display:flex;align-items:center;justify-content:space-between;padding:12px var(--pad);background:color-mix(in oklab,var(--bg),#ffffff 85%);backdrop-filter:blur(6px);border-bottom:1px solid var(--ring)}
.brand{display:flex;align-items:center;gap:10px;font-weight:700}.brand-logo{width:22px;height:22px;border-radius:4px}.ver{font-size:12px;color:var(--muted)}
.toolbar{padding:8px var(--pad) 0}
.filters{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:8px}
.settings{margin-top:10px;display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.settings-label{font-size:13px;color:var(--muted)}
.chip{appearance:none;border-radius:999px;border:1px solid var(--ring);background:color-mix(in oklab,var(--bg),#f8fafc 80%);padding:10px 12px;font-size:14px}
.chip.active{outline:2px solid color-mix(in oklab,var(--ring),#cbd5e1 50%)}
.card-list{padding:12px;display:grid;gap:12px}
.card{position:relative;border-radius:var(--radius);box-shadow:0 10px 24px var(--shadow);border:1px solid var(--ring);overflow:hidden}
.card.comfy{background:var(--card)}
.card.comfy .colorbar{height:14px;background:var(--bar)}
.card.comfy .card-inner{padding:22px;background:var(--wash,transparent)}
.card.compact{border:none}
.card.compact .card-inner{padding:14px}
.card.compact .colorbar{display:none}
.card-title{margin-top:6px;font-size:18px;font-weight:700}
.meta{display:flex;flex-wrap:wrap;gap:10px;align-items:center;font-size:13px;margin-top:8px}
.badge{font-size:12px;padding:6px 10px;border-radius:10px;font-weight:600}
.badge.muted{background:color-mix(in oklab,var(--bg),#e2e8f0 60%);color:var(--text)}
.badge.light{background:rgba(255,255,255,.20);color:#fff;border:1px solid rgba(255,255,255,.25)}
.icon-chip,.chip{display:inline-flex;align-items:center;gap:6px;border:1px solid var(--ring);background:color-mix(in oklab,var(--bg),#f8fafc 80%); padding:6px 10px;border-radius:999px;font-size:13px}
.icon-chip svg{display:block}
.chip-label{font-size:13px}
.hint{margin-top:10px;font-size:12px;color:var(--muted)}
.app-footer{padding:12px var(--pad);border-top:1px solid var(--ring);color:var(--muted);font-size:12px;display:flex;justify-content:space-between}
.workspace{position:fixed;inset:0;background:var(--bg);z-index:60;display:flex;flex-direction:column}
.workspace.hidden{display:none}
.ws-header{display:grid;grid-template-columns:40px 1fr 40px 40px;gap:8px;align-items:center;padding:10px var(--pad);border-bottom:1px solid var(--ring);background:color-mix(in oklab,var(--bg),#fff 85%)}
.ws-icon{appearance:none;border:1px solid var(--ring);border-radius:10px;background:transparent;padding:6px 8px}
.ws-icon.danger{color:#dc2626;border-color:#dc2626}
.ws-date{justify-self:center;color:var(--muted);font-weight:600}
.ws-subbar{display:grid;grid-template-columns:40px 1fr 40px;align-items:center;gap:8px;padding:8px var(--pad);border-bottom:1px solid var(--ring)}
.ws-logo{width:32px;height:32px;object-fit:contain}
.ws-avatar{width:32px;height:32px;border-radius:50%;background:#ddd}
.ws-title{font-weight:700}
.ws-body{padding:14px;overflow:auto;display:grid;gap:12px}
.ws-footer{margin-top:auto;display:flex;gap:10px;align-items:center;border-top:1px solid var(--ring);padding:10px var(--pad)}
.ws-spacer{flex:1}
.btn{appearance:none;border:1px solid var(--ring);border-radius:12px;padding:10px 12px;background:color-mix(in oklab,var(--bg),#f8fafc 80%)}
.btn.primary{background:#111827;color:#fff;border-color:#111827}
.map-wrap{height:260px;border:1px solid var(--ring);border-radius:12px;overflow:hidden}
